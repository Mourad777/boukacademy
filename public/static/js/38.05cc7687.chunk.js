(this["webpackJsonpe-learn"]=this["webpackJsonpe-learn"]||[]).push([[38],{821:function(e,t,n){"use strict";var a=n(91);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(0)),s=(0,a(n(107)).default)(i.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=s},838:function(e,t,n){"use strict";var a=n(63),i=n(0),s=n.n(i),r=n(31),o=n(748),u=n(442),l=n(443),c=n(441),m=n(438),d=Object(m.a)((function(e){return{formControl:{minWidth:80,width:"100%",marginBottom:"20px"},textLabel:{margin:"0 3px 10px 3px"},SelectField:{boxSizing:"border-box",border:"1px solid #C2C2C2",borderRadius:"3px",padding:"7px",outline:"none",margin:"0 3px 0 0",cursor:"pointer"},SelectFieldDark:{background:"transparent",color:"white"}}}));t.a=Object(r.b)((function(e){return{isDarkTheme:e.common.isDarkTheme}}))((function(e){var t=e.input,n=e.meta,i=void 0===n?{}:n,r=e.options,m=e.label,p=e.fullWidth,f=e.simple,g=e.textLabel,y=e.error,b=e.disabled,k=e.isDarkTheme,h=d(),v=r.map((function(e){return s.a.createElement("option",{style:k?{background:"#424242",color:"white"}:{},key:e.primaryText,value:e.value},e.primaryText)})),x=s.a.useRef(null),E=s.a.useState(0),Q=Object(a.a)(E,2),q=Q[0],w=Q[1];s.a.useEffect((function(){w((x.current||200).offsetWidth)}),[]);var T=s.a.createElement(c.a,{variant:"outlined",className:h.formControl},s.a.createElement(u.a,{ref:x},m),s.a.createElement(o.a,Object.assign({disabled:b,native:!0,renderValue:function(){return t.value},labelWidth:q,className:h.cssOutlinedInput},t),v),s.a.createElement(l.a,null,(i.error||y)&&i.touched?i.error||y:""));return f&&(T=s.a.createElement("div",null,g&&s.a.createElement("div",{className:h.textLabel},"".concat(g)),s.a.createElement("select",Object.assign({value:g?"":m,className:[h.SelectField,k?h.SelectFieldDark:""].join(" "),style:p?{width:"95%"}:null},t),!g&&s.a.createElement("option",{style:k?{background:"#424242",color:"white"}:{},hidden:!0,key:-1,value:m},m),v),i.error&&i.touched&&s.a.createElement("span",{style:{color:"#E91313",fontSize:"0.7em",display:"block"}},i.error))),T}))},882:function(e,t,n){"use strict";var a=n(5),i=n(11),s=n(0),r=(n(2),n(10)),o=n(13),u=n(81),l=s.forwardRef((function(e,t){var n=e.classes,o=e.className,l=Object(i.a)(e,["classes","className"]),c=s.useContext(u.a);return s.createElement("div",Object(a.a)({className:Object(r.a)(n.root,o,"flex-start"===c.alignItems&&n.alignItemsFlexStart),ref:t},l))}));t.a=Object(o.a)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(l)},914:function(e,t,n){"use strict";n.r(t);var a=n(30),i=n(63),s=n(0),r=n.n(s),o=n(31),u=n(27),l=n(38),c=n(838),m=n(199),d=n(798),p=n(740),f=n(882),g=n(801),y=n(821),b=n.n(y),k=n(106),h=n(444),v=n(256),x=n.n(v),E=n(438),Q=n(4),q=n(24),w=n(422),T=n(83),O=Object(E.a)((function(e){return{root:{width:"100%",marginBottom:"20px"},heading:{fontSize:e.typography.pxToRem(15),flexShrink:0},headingModules:{fontSize:e.typography.pxToRem(18),flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary,marginLeft:"10px"},flex:{display:"flex",marginTop:10,justifyContent:"space-between"},searchItem:{flexGrow:1,width:"98%"},createButton:{margin:"20px 0 20px 0"}}}));t.default=Object(o.b)((function(e){return{course:e.common.selectedCourse,questions:e.instructorQuestion.questionBank,questionEditing:e.instructorQuestion.questionEditing,editing:e.common.editing,creatingQuestionType:e.instructorQuestion.creatingQuestionType}}),(function(e){return{addQToTest:function(t,n){e(Object(u.a)("testForm",t,n))},setQuestionForm:function(t,n,a){e(Q.bd(t,!!n,a))},setEditing:function(){return e(Q.Yc())}}}))((function(e){var t=e.questions,n=e.selecting,s=e.questionType,o=e.indexToAdd,u=e.onBlockSync,y=e.addQToTest,v=e.course,E=e.isTest,Q=Object(T.g)(),j=Object(w.a)().t,S=O(),B=r.a.useState(""),C=Object(i.a)(B,2),F=C[0],I=C[1],L=r.a.useState(""),N=Object(i.a)(L,2),A=N[0],z=N[1],W=r.a.useState(""),M=Object(i.a)(W,2),R=M[0],_=M[1],D=[{value:"",primaryText:""},{value:"easy",primaryText:j("questions.easy")},{value:"medium",primaryText:j("questions.medium")},{value:"hard",primaryText:j("questions.hard")}],P=(t||[]).filter((function(e){return""!==e.language||null!==e.language})).reduce((function(e,t){return e.map((function(e){return e.language})).indexOf(t.language)<0&&e.push(t),e}),[]).map((function(e){return{value:e.language,primaryText:e.language}})),J=0,V=0,G=0,H=0;return r.a.createElement(l.a,null,!n&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(h.a,{color:"primary",className:S.createButton,onClick:function(e){var t;e.stopPropagation(),"Multiple-choice questions"===s&&(t="mc"),"Essay questions"===s&&(t="essay"),"Speaking questions"===s&&(t="speaking"),"Fill-in-the-blanks questions"===s&&(t="fillInBlank"),Q.push("/instructor-panel/course/".concat(v,"/").concat(E?"tests":"assignments","/question-bank/new/").concat(t))}},j("questions.buttons.createQuestion"))),r.a.createElement(k.a,{variant:"subtitle1"},j("questions.filterQuestions")),r.a.createElement("div",{className:S.flex},r.a.createElement("div",{className:S.searchItem},r.a.createElement(c.a,{fullWidth:!0,simple:!0,textLabel:j("questions.difficulty"),label:"difficulty",options:D,input:{onChange:function(e){I(e.target.value)},value:F}})),r.a.createElement("div",{className:S.searchItem}," ",r.a.createElement(c.a,{fullWidth:!0,simple:!0,textLabel:j("questions.language"),label:"language",options:[{primaryText:"",value:""}].concat(Object(a.a)(P)),input:{onChange:function(e){_(e.target.value)},value:R}})),r.a.createElement("div",{className:S.searchItem}," ",r.a.createElement(m.a,{label:"Tag",width:"97.5%",simple:!0,textLabel:j("questions.tag"),input:{onChange:function(e){z(e.target.value)},value:A}}))),r.a.createElement(h.a,{fullWidth:!0,color:"secondary",size:"small",onClick:function(){I(""),z(""),_("")},style:{margin:"5px 0 0 0"}},j("questions.buttons.resetFilters")),(t||[]).filter((function(e){if(""===R||e.language===R)return e})).filter((function(e){if(""===F||e.difficulty===F)return e})).filter((function(e){if((e.tags||[]).find((function(e){if(e.toLowerCase().includes(A.toLowerCase()))return e}))||""===A)return e})).map((function(e,a){var i;if("mc"===e.type&&(J+=1),"essay"===e.type&&(V+=1),"speaking"===e.type&&(G+=1),"fillInBlank"===e.type&&(H+=1),"Multiple-choice questions"===s&&(i="mc"),"Essay questions"===s&&(i="essay"),"Speaking questions"===s&&(i="speaking"),"Fill-in-the-blanks questions"===s&&(i="fillInBlank"),e.type===i)return r.a.createElement(d.a,{key:e._id},r.a.createElement(p.a,{dense:!0,button:!0,onClick:function(a){var i;n?(a.stopPropagation(),function(e,t,n,a){if("mc"===e.type&&n("mcQuestions.".concat(t),Object(q.a)(Object(q.a)({},e.mcQuestion),{},{marks:1})),"essay"===e.type&&n("essayQuestions.".concat(t),Object(q.a)(Object(q.a)({},e.essayQuestion),{},{marks:1})),"speaking"===e.type){var i={questionRecordedBlob:(e.speakingQuestion||{}).audioQuestion&&""!==(e.speakingQuestion||{}).audioQuestion?(e.speakingQuestion||{}).audioQuestion:"",recordedBlob:(e.speakingQuestion||{}).audio&&""!==(e.speakingQuestion||{}).audio?(e.speakingQuestion||{}).audio:"",question:(e.speakingQuestion||{}).question,audioAnswer:!!(e.speakingQuestion||{}).audio,audioQuestion:!!(e.speakingQuestion||{}).audioQuestion,audioFile:(e.speakingQuestion||{}).audio,audioFileQuestion:(e.speakingQuestion||{}).audioQuestion,marks:1};n("speakingQuestions.".concat(t),i)}"fillInBlank"===e.type&&(n("fillBlankQuestions",function(e){var t=(e.fillBlankQuestions||{}).blanks||[],n=t.map((function(e,t){var n=e.audio&&""!==e.audio,a=(e.incorrectAnswers||[]).filter((function(e){return e})).reduce((function(e,t,n){var a;return 0===n&&(a="One"),1===n&&(a="Two"),2===n&&(a="Three"),e["incorrectAnswer".concat(a)]=t,e}),{});return{answer:e.correctAnswer,selectableAnswer:e.selectableAnswer,answerOptions:a,marks:1,audio:n,browserAudioFile:n?e.audio:"",audioFile:n?e.audio:null}}));return{question:(e.fillBlankQuestions||{}).question,answers:n,correctAnswers:t.map((function(e){return e.correctAnswer}))}}(e)),a())}((i=e._id,(t||[]).find((function(e){return i===e._id}))),o,(function(e,t){y(e,t)}),u)):Q.push("/instructor-panel/course/".concat(v,"/").concat(E?"tests":"assignments","/question-bank/edit/").concat(e._id))}},n?r.a.createElement(f.a,null,r.a.createElement(x.a,null)):r.a.createElement(f.a,null,r.a.createElement(b.a,null)),"mc"===e.type&&r.a.createElement(g.a,{primary:J+" "+((e.mcQuestion||{}).question||"").replace(/<[^>]+>/g,"").slice(0,25)+"..."}),"essay"===e.type&&r.a.createElement(g.a,{primary:V+" "+((e.essayQuestion||{}).question||"").replace(/<[^>]+>/g,"").slice(0,25)+"..."}),"speaking"===e.type&&r.a.createElement(g.a,{primary:(G+" "+(e.speakingQuestion||{}).question||"").replace(/<[^>]+>/g,"").slice(0,25)+"..."}),"fillInBlank"===e.type&&r.a.createElement(g.a,{primary:(H+" "+(e.fillBlankQuestions||{}).question||"").replace(/<[^>]+>/g,"").slice(0,25)+"..."})))})))}))}}]);