(this["webpackJsonpe-learn"]=this["webpackJsonpe-learn"]||[]).push([[19],{1020:function(e,t,n){"use strict";n(0);var a=n(13),r=n(1208),o=Object(a.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(r.a);t.a=o},1021:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(972),r=function e(t,n,r,o){r&&t&&(n=setTimeout((function(){var c=Object(a.b)(r),i=c.isIrregOfficeHour,u=c.isRegOfficeHour;o(!(!i&&!u)),t?e(Object(a.a)(r,Date.now())):clearTimeout(n)}),t-Date.now()))}},1068:function(e,t,n){},1221:function(e,t,n){"use strict";var a=n(5),r=n(11),o=n(34),c=n(0),i=(n(2),n(10)),u=n(13),s=c.forwardRef((function(e,t){var n=e.classes,o=e.className,u=e.component,s=void 0===u?"div":u,l=e.disableGutters,d=void 0!==l&&l,f=e.variant,m=void 0===f?"regular":f,p=Object(r.a)(e,["classes","className","component","disableGutters","variant"]);return c.createElement(s,Object(a.a)({className:Object(i.a)(n.root,n[m],o,!d&&n.gutters),ref:t},p))}));t.a=Object(u.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(o.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(s)},1241:function(e,t,n){},1242:function(e,t,n){"use strict";var a=n(91);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),o=(0,a(n(107)).default)(r.default.createElement("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}),"Videocam");t.default=o},1243:function(e,t,n){"use strict";var a=n(91);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),o=(0,a(n(107)).default)(r.default.createElement("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}),"Send");t.default=o},1345:function(e,t,n){"use strict";n.r(t);var a=n(19),r=n(31),o=n(63),c=n(0),i=n.n(c),u=n(30),s=n(154),l=n.n(s),d=n(4),f=n(196),m=n(106),p=n(1025),v=n(1020),b=n(6),g=n.n(b),h=n(41),y=n(436),w=n(22),O=n(803),j=n(445),x=n(1221),E=n(918),k=n.n(E),R=n(1243),I=n.n(R),S=n(241),_=n(737),C=n(250),T=(n(1241),function(){return i.a.createElement("div",{className:"spinner"})}),z=n(856),A=n.n(z),D=n(857),P=n.n(D),H=n(1242),L=n.n(H),M=n(823),N=(n(1068),n(818)),F=n(835),U=Object(y.a)((function(e){var t;return{formLayout:{display:"flex",justifyContent:"space-between"},appBar:(t={bottom:0,top:"auto",width:"100%"},Object(a.a)(t,e.breakpoints.up(500),{bottom:7}),Object(a.a)(t,e.breakpoints.up(600),{width:function(e){return e.isSmallDrawer?"calc(100vw - 76px)":"calc(100vw - 216px)"}}),t),inputContainer:{backgroundColor:Object(w.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(w.c)(e.palette.common.white,.25)},borderRadius:e.shape.borderRadius,position:"relative",width:"100%"},icon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:{padding:e.spacing(1,1,1,7),width:"100%"}}}));var B=Object(_.a)("common")((function(e){var t,n,a,r=e.handleContent,o=e.handleSubmit,c=e.content,u=e.t,s=e.isSelectedInstructor,l=e.isOfficeHour,d=e.isInstructorPanel,f=e.chatAlwaysOpen,m=e.handleAttachedFile,p=e.loadedFile,v=e.isUploading,b=e.onSetRecorder,y=e.onSetAudioRecorder,w=e.recorder,E=e.stream,R=e.audioRecorder,_=e.audioTimeoutId,z=e.isFile,D=e.isSmallDrawer,H=U({isSmallDrawer:D});p&&(t=(p||{}).name.toLowerCase().split(".").pop()),"pdf"===t&&(n=i.a.createElement("i",{className:"far fa-file-pdf fa-2x"})),"mp3"===t&&(a="audio"),"docx"!==t&&"doc"!==t||(n=i.a.createElement("i",{className:"fas fa-file-word fa-2x"})),"jpeg"!==t&&"jpg"!==t&&"jfif"!==t||(a="image"),"avi"!==t&&"mp4"!==t&&"mkv"!==t&&"webm"!==t||(a="video");var B,Y=R||w||v||!f&&(s&&!l||d&&!l);return p&&(B=URL.createObjectURL(p)),i.a.createElement(O.a,{position:"fixed",className:H.appBar},w&&i.a.createElement(M.a,{muted:!0,playAutomatically:!0,url:E}),p&&i.a.createElement("div",{style:{display:"flex",padding:5}},i.a.createElement("div",{style:{display:"contents"}},"audio"===a&&i.a.createElement(F.a,{audioSource:B}),"image"===a&&i.a.createElement("div",{style:{backgroundImage:'url("'.concat(B,'")'),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",height:80,borderRadius:"3px",width:"30%"}}),"video"===a&&i.a.createElement(M.a,{url:B})),v&&i.a.createElement("div",{style:{marginLeft:25}}," ",i.a.createElement(T,null)),i.a.createElement("div",{style:{opacity:v?.3:1,color:"white",marginLeft:15}},n),i.a.createElement("div",{style:{marginLeft:15,cursor:"pointer"},onClick:function(){return m("")}},i.a.createElement("i",{style:{color:"#ffc000"},className:"fas fa-window-close fa-2x"}))),i.a.createElement(x.a,{style:{padding:"5px"}},i.a.createElement("div",{className:H.inputContainer},i.a.createElement("form",{onSubmit:o,className:H.formLayout},i.a.createElement("div",{style:{display:"flex",flexDirection:"column-reverse",width:"100%"}},i.a.createElement("div",{style:{display:"flex",flexDirection:"column-reverse",justifyContent:"center"}},i.a.createElement("div",{className:H.icon},i.a.createElement(k.a,null)),i.a.createElement(j.a,{multiline:!0,disabled:!f&&(s&&!l||d&&!l),onChange:r,onKeyPress:function(e){13!==e.keyCode&&13!==e.charCode||Y||o(e)},value:c,placeholder:u("chat.typeMessage"),style:{width:"100%"},classes:{root:H.inputRoot,input:H.inputInput},inputProps:{"aria-label":"content"}})),i.a.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},i.a.createElement(S.a,{disabled:p||w,onClick:function(){var e=Object(h.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R){e.next=10;break}return e.next=3,Object(N.c)(t,null,null,"chatAudioRecorder",function(){var e=Object(h.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return n=e.sent,e.next=5,m(n.file);case 5:y({audioRecorder:null,audioTimeoutId:null});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:n=e.t0,y({audioRecorder:n.recorder,audioTimeoutId:n.recordingTimeout}),e.next=19;break;case 10:return e.next=12,Object(N.d)(t,null,"chatAudioRecorder",_,R);case 12:if(e.t1=e.sent,e.t1){e.next=15;break}e.t1={};case 15:return a=e.t1,y({audioRecorder:null,audioTimeoutId:null}),e.next=19,m(a.file);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),component:"span"},R?i.a.createElement(P.a,{style:{color:"white"}}):i.a.createElement(A.a,{style:{color:"white",opacity:p||w?.3:1}})),i.a.createElement(S.a,{disabled:p||R,onClick:Object(h.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=5;break}return e.next=3,Object(N.a)((function(e){var t=e.recorder,n=e.stream;b({recorder:t,stream:n})}),function(){var e=Object(h.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=6;break;case 5:w.stopRecording(Object(h.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.getBlob(),n=new File([t],"video-recording.webm",{type:"video/webm"}),e.next=4,m(n);case 4:b({recorder:null,stream:null}),E.stop();case 6:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)}))),component:"span"},w?i.a.createElement(P.a,{style:{color:"white"}}):i.a.createElement(L.a,{style:{color:"white",opacity:p||R?.3:1}})),i.a.createElement(C.a,{mimeTypesAllowed:"audio/*, video/*, video/x-matroska, image/jpeg, application/pdf, .doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",extensionsAllowed:["jpeg","jpg","jfif","png","pdf","docx","doc","mp4","avi","mkv","mp3","webm"],input:{value:"",onChange:function(e){m(e)}},onChangeFile:function(e){},attachIcon:!0,disabled:p||w||R}),z&&i.a.createElement(S.a,{style:{color:"white",opacity:Y?.3:1},size:"medium","aria-label":"delete",onClick:o,disabled:Y},i.a.createElement(I.a,null))))))))})),Y=n(20),V=n(95),W=n(242),K=n(82),q=n(880),G=n.n(q),J=n(1021),Q=n(972),$=localStorage.getItem("token"),X=l()("https://mernstackelearn.herokuapp.com/",{query:{token:$}}),Z=function(e,t,n,a){console.log("params :",e,t,n,a);var r="".concat("https://mernstackelearn.herokuapp.com/","delete-files"),o=new FormData;o.append("url",t),o.append("Authorization","Bearer "+e),n(""),a(""),fetch(r,{method:"put",headers:new Headers({Authorization:"Bearer "+e}),body:o,keepalive:!0})};t.default=Object(u.b)((function(e){var t=Object(W.a)(e.common.courses,e.common.selectedCourse)||{};return{students:e.common.students,userId:e.authentication.userId,course:t,selectedCourse:e.common.selectedCourse,token:e.authentication.token,instructorPanel:e.authentication.instructorLoggedIn,studentPanel:e.authentication.studentLoggedIn,notifications:e.common.notifications,configuration:e.common.configuration,uploading:e.common.uploading,width:e.common.width}}),(function(e){return{fetchNotifications:function(t){e(d.Kb(t))},markAsSeen:function(t,n){e(d.kc(t,n))},uploadFile:function(t,n,a,r){e(d.wd(t,n,a,r))},deleteFile:function(t,n){e(d.R(t),n)},fetchStudents:function(t,n){return e(d.Qb(t,n))},setChatUser:function(t){e(d.Hc(t))}}}))((function(e){var t=e.selectedCourse,n=e.fetchStudents,u=e.notifications,s=e.markAsSeen,l=e.fetchNotifications,d=e.course,b=e.students,g=e.instructorPanel,h=e.studentPanel,y=e.configuration,w=e.userId,O=e.width,j=e.uploading,x=e.deleteFile,E=e.uploadFile,k=e.isSmallDrawer,R=e.history,I=Object(c.useState)([]),_=Object(o.a)(I,2),C=_[0],T=_[1],z=Object(c.useState)([]),A=Object(o.a)(z,2),D=A[0],P=A[1],H=Object(c.useState)(""),L=Object(o.a)(H,2),N=L[0],U=L[1],W=Object(c.useState)(""),q=Object(o.a)(W,2),ee=q[0],te=q[1],ne=Object(c.useState)(""),ae=Object(o.a)(ne,2),re=ae[0],oe=ae[1],ce=Object(c.useState)(null),ie=Object(o.a)(ce,2),ue=ie[0],se=ie[1],le=Object(c.useState)(null),de=Object(o.a)(le,2),fe=de[0],me=de[1],pe=Object(c.useState)(null),ve=Object(o.a)(pe,2),be=ve[0],ge=ve[1],he=Object(c.useState)(null),ye=Object(o.a)(he,2),we=ye[0],Oe=ye[1],je=Object(c.useState)({}),xe=Object(o.a)(je,2),Ee=xe[0],ke=xe[1],Re=Object(c.useState)(null),Ie=Object(o.a)(Re,2),Se=Ie[0],_e=Ie[1],Ce=Object(c.useState)(!0),Te=Object(o.a)(Ce,2),ze=Te[0],Ae=Te[1],De=Object(c.useRef)();De.current=re,Object(c.useEffect)((function(){var e=Object(Q.b)(d,Date.now()),t=e.isIrregOfficeHour,n=e.isRegOfficeHour;Ae(!(!t&&!n));var a=Object(Q.a)(d,Date.now());return Object(J.a)(a,void 0,d,Ae),function(){clearTimeout(void 0)}}),[d]);var Pe=Object(c.useRef)();Object(c.useEffect)((function(){b||Pe.current||!t||(n(t,localStorage.getItem("token")),Pe.current=!0)})),Object(c.useEffect)((function(){window.addEventListener("beforeunload",(function(){return Z($,De.current,oe,te)}));var e,t=R.location.pathname,n=Object(K.f)(t,{path:"/instructor-panel/course/:courseId/chat/user/:userId",exact:!0})||Object(K.f)(t,{path:"/student-panel/course/:courseId/chat/user/:userId",exact:!0});n&&(e=n.params.userId)&&_e(e);var a=(u||[]).find((function(t){if(t.toSpecificUser===w&&t.fromUser===e||t.toSpecificUser===e&&t.fromUser===w)return t}));return a&&(s(a._id,$),l($)),X.emit("join",{recipient:e,course:d._id}),X.on("init",(function(e){var t=e.messages,n=e.activeUsers;T((function(e){return[].concat(Object(r.a)(e),Object(r.a)(t)).reverse()})),P(n)})),X.on("activeUsers",(function(e){P(e)})),X.on("push",(function(e){T((function(t){return[].concat(Object(r.a)(t),[e])}))})),function(){Z($,De.current,oe,te),window.removeEventListener("beforeunload",Z),De.current,X.emit("leave",{recipient:e}),X.off("activeUsers"),X.off("push")}}),[]),Object(c.useEffect)((function(){var e;d.courseInstructor&&b&&Se&&(e=Se===(d.courseInstructor||{})._id?d.courseInstructor||{}:(b||[]).find((function(e){return e._id===Se})),ke(e))}),[d,b,Se]),Object(c.useEffect)((function(){Le()}),[C]);var He,Le=function(){document.getElementById("chat")&&(C.scrollTop=C.scrollHeight)};y&&(He=y.isChatAllowedOutsideOfficehours),h&&y&&(He=(y.coursesIsChatAllowedOutsideOfficehours||[]).includes((d||{})._id));var Me=(d||{}).courseInstructor,Ne=(Ee||{})._id===(Me||{})._id,Fe=200;if(O<460&&(Fe=150),O<360&&(Fe=100),!Ee)return null;var Ue=Object(Q.b)(d,Date.now()),Be=Ue.isIrregOfficeHour,Ye=Ue.isRegOfficeHour;return i.a.createElement("div",{className:"Chat"},(d||{}).regularOfficeHours&&("boolean"===typeof y.isChatAllowedOutsideOfficehours||"boolean"===typeof y.coursesIsChatAllowedOutsideOfficehours)&&!He&&!Be&&!Ye&&Se&&(h&&Se===(Me||{})._id||g)&&i.a.createElement(K.a,{to:"/".concat(g?"instructor":"student","-panel/course/").concat(t,"/chat/contacts")}),i.a.createElement(S.a,{onClick:function(){R.push("/".concat(g?"instructor":"student","-panel/course/").concat(d._id,"/chat/contacts"))}},i.a.createElement(G.a,null)),i.a.createElement("div",{style:{display:"flex"}},D.includes(Ee._id)?i.a.createElement(v.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot"},i.a.createElement(p.a,{src:Ee.profilePicture})):i.a.createElement(p.a,{src:Ee.profilePicture}),i.a.createElement(m.a,{style:{padding:"10px"}},"".concat((Ee||{}).firstName," ").concat((Ee||{}).lastName))),i.a.createElement(f.a,Object(a.a)({style:{maxHeight:"calc(93vh - 219px)"},id:"chat",elevation:3},"style",{display:"flex",flexDirection:"column",marginBottom:O<500?ee?150:120:ee?100:70}),C.map((function(e,t){var n,a;console.log("chat element: ",e),e.file&&(e.file instanceof File?(a=URL.createObjectURL(e.file),n=(e.file||{}).name.toLowerCase().split(".").pop()):(a=e.file,console.log("url",a),n=(Object(V.a)(e.file)||"").toLowerCase().split(".").pop(),console.log("key",Object(V.a)(e.file)))),console.log("ext",n);var r="jfif"===n||"jpeg"===n||"jpg"===n||"png"===n,o="mp4"===n||"avi"===n||"mkv"===n||"webm"===n,c="mp3"===n;console.log("is audio",c);var u="pdf"===n,s="docx"===n||"doc"===n;return i.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:e.sender===w?"flex-end":"flex-start",alignSelf:e.sender===w?"flex-end":"flex-start",maxWidth:"80%",minWidth:e.file?c?"20%":"50%":"10%",borderRadius:5,padding:5,marginBottom:5,backgroundColor:e.sender===w?"#0288d1":"#455a64"},key:t},e.file&&r&&i.a.createElement("div",{style:{backgroundImage:'url("'.concat(a,'")'),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",height:Fe,borderRadius:"3px",width:"100%"}}),e.file&&(u||s)&&i.a.createElement("a",{href:a},i.a.createElement("div",{style:{borderRadius:"3px",width:"50%"}},s&&i.a.createElement("i",{style:{color:"white"},className:"fas fa-file-word fa-2x"}),u&&i.a.createElement("i",{style:{color:"white"},className:"far fa-file-pdf fa-2x"}))),e.file&&c&&i.a.createElement("div",{className:"chatAudio[".concat(t,"]")},i.a.createElement(F.a,{noSeek:!0,audioSource:a})),e.file&&o&&i.a.createElement(M.a,{url:a}),e.file&&(o||r||c)&&i.a.createElement("a",{href:a},i.a.createElement("i",{style:{color:"white",padding:"5px 0"},className:"fas fa-file-download fa-2x"})),i.a.createElement(m.a,{style:{fontSize:"0.8em",color:"white"},variant:"body1",className:"content"},e.content))}))),i.a.createElement(B,{isSmallDrawer:k,isOfficeHour:ze,isSelectedInstructor:Ne,content:N,handleContent:function(e){U(e.target.value)},handleSubmit:function(e){var t;b.find((function(e){return e._id===Ee._id}))&&(t="student"),Ee._id===d.courseInstructor._id&&(t="instructor");var n=localStorage.getItem("userType");X.emit("message",{content:N,recipient:Ee,course:d._id,userTypeRecipient:t,userTypeSender:n,file:re||null}),T((function(e){return[].concat(Object(r.a)(e),[{sender:w,content:N,file:ee}])})),U(""),te(""),oe(""),se(null),ge(null),Oe(null)},isInstructorPanel:g,chatAlwaysOpen:He,handleAttachedFile:function(e){if(!e)return te(""),re(""),void(re&&x([re],$));var t="users/".concat(w,"/chat"),n=Object(Y.a)(e,t);E(e,n,$,"chat"),te(e),oe(n)},loadedFile:ee,isUploading:j,onSetRecorder:function(e){var t=e.recorder,n=e.stream;se(t),me(n)},onSetAudioRecorder:function(e){var t=e.audioRecorder,n=e.audioTimeoutId;ge(t),Oe(n)},recorder:ue,stream:fe,audioRecorder:be,audioTimeoutId:we,isFile:!!ee}))}))},818:function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return b}));var a=n(6),r=n.n(a),o=n(63),c=n(41),i=n(909),u=n.n(i),s=n(453),l=n(910),d=n.n(l),f=function(){var e=Object(c.a)(r.a.mark((function e(t,n,a,c){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("saving"),i=new u.a({bitRate:128}),(c||{}).lameEncoder&&(i=c),(t||{}).lameEncoder&&(i=t),console.log("is recorder: ",i),!i){e.next=9;break}return e.next=8,i.stop().getMp3().then((function(e){var t=Object(o.a)(e,2),r=t[0],c=t[1];return{blob:URL.createObjectURL(c),file:new File(r,n?"".concat(a,"-[").concat(n,"]recording.mp3"):"".concat(a,"-recording.mp3"),{type:c.type,lastModified:Date.now()}),index:a}}));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),m=function(e,t,n,a,r){if(e){e.preventDefault();var o=f(null,t,n,r);return clearTimeout(a),o}},p=function(){var e=Object(c.a)(r.a.mark((function e(t,n,a,o,c){var i,l,d,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=new u.a({bitRate:128}),t){e.next=3;break}return e.abrupt("return");case 3:return t.preventDefault(),e.prev=4,e.next=7,i.start();case 7:return l=s.store.getState(),d=l.common.configuration.voiceRecordTimeLimit||60,m=setTimeout((function(){var e=f(i,n,a);c(e)}),1e3*d),e.abrupt("return",{recordingTimeout:m,isRecording:!0,recorder:i,index:a});case 13:return e.prev=13,e.t0=e.catch(4),e.abrupt("return",{isRecording:!1});case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t,n,a,r,o){return e.apply(this,arguments)}}(),v=function(e){var t=document.getElementById(e);t&&t.play()},b=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({video:!0,audio:!0});case 3:a=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("e: ",e.t0);case 9:return o=d()(a,{type:"video",mimeType:"video/webm;codecs=h264",canvas:{width:640,height:480}}),t({recorder:o,stream:a}),o.startRecording(),i=function(e){return new Promise((function(t){return setTimeout(t,e)}))},6e4,e.next=16,i(6e4);case 16:o.stopRecording(Object(c.a)(r.a.mark((function e(){var c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=o.getBlob(),i=new File([c],"video-recording.webm",{type:"video/webm"}),n(i),t({recorder:null,stream:null}),a.stop();case 5:case"end":return e.stop()}}),e)}))));case 17:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},821:function(e,t,n){e.exports={greenIcon:"AudioPlayer_greenIcon__knaj_",redIcon:"AudioPlayer_redIcon__VtpzN",flexPositioningEven:"AudioPlayer_flexPositioningEven__mBu5R",AudioAlignment:"AudioPlayer_AudioAlignment__1RjTd",Pointer:"AudioPlayer_Pointer__3IoHf",errorText:"AudioPlayer_errorText__1KeLa",advancedAudioPlayer:"AudioPlayer_advancedAudioPlayer__2hxRe","audio-player":"AudioPlayer_audio-player__q667P"}},823:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(876),c=n.n(o);t.a=function(e){var t=e.url,n=e.play,a=e.ended,o=e.pause,i=e.playAutomatically,u=e.muted;return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(c.a,{playing:i,onPlay:n,onEnded:a,onPause:o,controls:!0,width:"100%",height:"100%",url:t,muted:u}))}},835:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(917),c=n.n(o),i=(n(821),{width:"fit-content"}),u=[{className:"tier-top",style:{padding:"5px 0",margin:"auto",textAlign:"center"},innerComponents:[{type:"play",style:i},{type:"time",style:i}]}],s=[{className:"tier-top",style:{padding:"5px 0",margin:"auto",textAlign:"center"},innerComponents:[{type:"play",style:i},{type:"time",style:i},{type:"seek"}]}];t.a=function(e){var t=e.audioSource,n=e.noSeek,a=e.id;return r.a.createElement(c.a,{id:a||"audioplayerabc",playerWidth:"100%",audioFiles:[{src:t}],rearrange:n?u:s,iconSize:"1.5rem",fontSize:"1.2rem",sliderClass:"invert-blue-grey",hideForward:!0,hideRewind:!0,hideLoop:!0})}},856:function(e,t,n){"use strict";var a=n(91);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),o=(0,a(n(107)).default)(r.default.createElement("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"}),"Mic");t.default=o},857:function(e,t,n){"use strict";var a=n(91);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),o=(0,a(n(107)).default)(r.default.createElement("path",{d:"M6 6h12v12H6z"}),"Stop");t.default=o},880:function(e,t,n){"use strict";var a=n(91);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),o=(0,a(n(107)).default)(r.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.default=o},918:function(e,t,n){"use strict";var a=n(91);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),o=(0,a(n(107)).default)(r.default.createElement("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"}),"Chat");t.default=o},930:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){var t;switch(e){case"Sunday":t=0;break;case"Monday":t=1;break;case"Tuesday":t=2;break;case"Wednesday":t=3;break;case"Thursday":t=4;break;case"Friday":t=5;break;case"Saturday":t=6}return t}},972:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return f}));var a=n(930),r=n(69),o=n.n(r),c=n(906),i=n.n(c),u=function(e){return new Date("01/01/2020 ".concat(e)).getTime()},s=function(e){if(!e)return{isIrregOfficeHour:null,isRegOfficeHour:null};var t="".concat(o()().hour(),":").concat(o()().minutes());return{isRegOfficeHour:(e.regularOfficeHours||[]).findIndex((function(e){var n=u((e||{}).startTime),r=60*i.a.tz.zone((e||{}).timezoneRegion).utcOffset(n)*1e3+n,o=u((e||{}).endTime),c=60*i.a.tz.zone((e||{}).timezoneRegion).utcOffset(o)*1e3+o,s=60*i.a.tz.zone((e||{}).timezoneRegion).utcOffset(u(t))*1e3+u(t);if((new Date).getDay()===Object(a.a)(e.day)&&s>=r&&s<c)return e}))>-1,isIrregOfficeHour:(e.irregularOfficeHours||[]).findIndex((function(e){var n=u((e||{}).startTime),a=60*i.a.tz.zone((e||{}).timezoneRegion).utcOffset(n)*1e3+n,r=u((e||{}).endTime),o=60*i.a.tz.zone((e||{}).timezoneRegion).utcOffset(r)*1e3+r,c=60*i.a.tz.zone((e||{}).timezoneRegion).utcOffset(u(t))*1e3+u(t);if(new Date(Date.now()).setHours(0,0,0,0).toString()===parseInt(e.date).toString()&&c>=a&&c<o)return e}))>-1}},l=function(e,t,n){if(e)return(e.regularOfficeHours||[]).map((function(e){for(var n,r=o()(Date.now()),c=o()(parseInt(Date.now()+1728e5)),i=Object(a.a)(e.day),u=r.clone();u.day(0+i).isBefore(c);){n=u.clone()._d;var s=new Date("".concat(o()(new Date(n)).format("MM/DD/YYYY")," ").concat(e[t])).getTime();return s<Date.now()?null:new Date(s).getTime()}})).sort().filter((function(e){return e}))[0]},d=function(e,t,n){if(e)return(e.irregularOfficeHours||[]).map((function(e){var a=new Date("".concat(o()(parseInt(e.date)).format("MM/DD/YYYY")," ").concat(e[t])).getTime();return a<=(n||Date.now())?null:a})).sort().filter((function(e){return e}))[0]},f=function(e,t){var n,a,r,o,c=s(e),i=c.isIrregOfficeHour,u=c.isRegOfficeHour;return(i||u)&&(a=l(e,"endTime"),o=d(e,"endTime",t)),i||u||(n=l(e,"startTime"),r=d(e,"startTime",t)),[r,n,o,a].filter((function(e){return e})).sort()[0]}}}]);