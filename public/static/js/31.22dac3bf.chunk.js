(this["webpackJsonpe-learn"]=this["webpackJsonpe-learn"]||[]).push([[31],{1022:function(e,t,n){"use strict";var a=n(91);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(0)),c=(0,a(n(107)).default)(o.default.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");t.default=c},1229:function(e,t,n){"use strict";var a=n(91);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(0)),c=(0,a(n(107)).default)(o.default.createElement("path",{d:"M20 6h-8l-2-2H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-1 8h-3v3h-2v-3h-3v-2h3V9h2v3h3v2z"}),"CreateNewFolder");t.default=c},1230:function(e,t,n){"use strict";var a=n(91);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(0)),c=(0,a(n(107)).default)(o.default.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}),"Description");t.default=c},1347:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(339),r=n(341),s=n(337),l=n(148),u=n(31),d=n(438),i=n(798),m=n(38),f=n(4),p=n(422),v=n(63),b=n(30),h=n(338),y=n(199),g=n(740),E=n(882),j=n(801),x=n(743),I=n(839),M=n.n(I),O=n(821),T=n.n(O),z=n(868),L=n.n(z),F=n(106),V=n(244),_=Object(u.b)((function(e){return{course:e.common.selectedCourse,courses:e.common.courses}}))((function(e){var t=e.course,n=e.folderDocs,a=e.folderType,r=e.classes,s=e.isDisabledInput,l=e.childFolderType,u=e.fieldArrayName,d=e.moduleIndex,f=e.subjectIndex,p=e.index,v=e.t,b=e.subjects,h=e.modules,y=e.handleOpenFolder,x=e.updateCategories,I=e.secondaryBlue,O=e.onSelectDocument,z=e.modulesFormValues,_=e.courses,k=Object(V.a)(_,t),C=(k||{}).lessons,N=((k||{}).tests||[]).filter((function(e){return!e.assignment})),S=((k||{}).tests||[]).filter((function(e){return e.assignment}));return o.a.createElement("div",{style:{marginLeft:15,borderLeft:"4px ".concat(I," solid")}},(n||[]).map((function(e){var t,a,c=(n||[]).find((function(e){return"lesson"===e.documentType}))||{},l=(n||[]).find((function(e){return"test"===e.documentType}))||{},u=(n||[]).find((function(e){return"assignment"===e.documentType}))||{};return"test"===e.documentType&&(t=(N||[]).find((function(t){return e.documentId===t._id}))),"assignment"===e.documentType&&(t=(S||[]).find((function(t){return e.documentId===t._id}))),"lesson"===e.documentType&&(t=(C||[]).find((function(t){return e.documentId===t._id}))),t?("test"===e.documentType&&(a=o.a.createElement(M.a,{fontSize:"small",color:"primary"})),"assignment"===e.documentType&&(a=o.a.createElement(T.a,{fontSize:"small",color:"primary"})),"lesson"===e.documentType&&(a=o.a.createElement(L.a,{fontSize:"small",color:"primary"})),o.a.createElement(m.a,{key:e.documentId},["assignment","test","lesson"].map((function(t,n){var a;return 0===n&&(a=u),1===n&&(a=l),2===n&&(a=c),e.documentId===a.documentId&&e.documentType===t?o.a.createElement(g.a,{key:"".concat(t,"[document.documentId]"),style:{marginLeft:15}},o.a.createElement(j.a,{primary:v("instructorModules.".concat(t,"s"))})):null})),o.a.createElement(g.a,{className:r.nestedFile,key:e.documentId,button:!0,onClick:function(){s||O(e.documentType,e.documentId)}},o.a.createElement(E.a,null,a),"test"===e.documentType&&o.a.createElement(j.a,{primary:"".concat(t.testName)}),"assignment"===e.documentType&&o.a.createElement(j.a,{primary:"".concat(t.testName)}),"lesson"===e.documentType&&o.a.createElement(j.a,{primary:"".concat(t.lessonName)})))):null})),"topic"!==a&&o.a.createElement(i.a,{component:"div",disablePadding:!0,subheader:o.a.createElement(F.a,{variant:"h6",align:"center",style:{color:I}},v("instructorModules.".concat(l)))},o.a.createElement(c.a,{name:u,component:K,moduleIndex:"module"===a?p:d,subjectIndex:"subject"===a?p:f,topicIndex:"topic"===a?p:null,t:v,topics:"subject"===a?(b[p]||{}).topics:null,subjects:"module"===a?(h[p]||{}).subjects:null,tests:N,assignments:S,lessons:C,handleOpenFolder:function(e){y(e)},updateCategories:function(e,t,n){return x(e,t,n)},secondaryBlue:I,modulesFormValues:z,folderType:l,onSelectDocument:function(e,t){O(e,t)}})))})),k=n(243),C=n(1230),N=n.n(C),S=n(1229),w=n.n(S),D=n(256),P=n.n(D),H=n(152),B=n.n(H),A=n(1022),R=n.n(A),W=n(266),J=n.n(W),X=Object(d.a)((function(e){return{root:{overflowX:"hidden",maxWidth:600,margin:"30px auto",paddingLeft:e.spacing(1),paddingTop:30},nested:{paddingLeft:e.spacing(1.5)},nestedTwice:{paddingLeft:e.spacing(2)},nestedFile:{paddingLeft:e.spacing(5)}}})),K=function(e){var t=e.fields,n=(e.meta.error,e.moduleIndex),a=e.subjectIndex,c=(e.topicIndex,e.subjects),r=e.topics,s=e.handleOpenFolder,l=e.updateCategories,u=e.modulesFormValues,d=e.onSelectDocument,i=e.secondaryBlue,f=e.t,p=e.folderType,I=e.modules,M=X(),O=o.a.useState(-1),T=Object(v.a)(O,2),z=T[0],L=T[1];return o.a.createElement(m.a,null,(t||[]).map((function(e,t){var v,O,T,F,V,C;"module"===p&&(v="node[".concat(t,"]"),O="modules.".concat(t,".moduleName"),T=[t],F="modules.".concat(t,".subjects"),V=(I[t]||{}).folder,C="subject"),"subject"===p&&(v="node[".concat(n,"][").concat(t,"]"),O="modules.".concat(n,".subjects.").concat(t,".subjectName"),T=[n,t],F="modules.".concat(n,".subjects.").concat(t,".topics"),V=(c[t]||{}).folder,C="topic"),"topic"===p&&(v="node[".concat(n,"][").concat(a,"][").concat(t,"]"),O="modules.".concat(n,".subjects.").concat(a,".topics.").concat(t,".topicName"),T=[n,a,t],V=(r[t]||{}).folder);var N=-1!==z&&z!==v;return o.a.createElement(m.a,{key:v},o.a.createElement(g.a,{style:{opacity:N?.2:1,cursor:N?"auto":"pointer",borderLeft:N||-1===z?"":"4px ".concat(i," solid"),marginLeft:15},button:!0,onClick:function(){N||function(e,t){L(z===t?-1:t)}(0,v)},className:M.nested},o.a.createElement(j.a,{style:{flex:"none"},primary:"".concat(t+1,".")}),o.a.createElement(h.a,{simple:!0,disabled:N,name:O,onBlur:l,component:y.a,label:"".concat(f("instructorModules.".concat(p))," ").concat(t+1)}),o.a.createElement(E.a,null,o.a.createElement(k.a,{style:{cursor:N?"auto":"pointer"},onClick:function(e){N||(e.stopPropagation(),s(T))}},o.a.createElement(w.a,null))),o.a.createElement(k.a,{style:{cursor:N?"auto":"pointer"},onClick:function(e){if(!N){e.stopPropagation();var o=function(e,t,n,a,o,c){var r=(e||{}).modules,s=Object(b.a)(r);return"module"===t&&(s||[]).splice(c,1),"subject"===t&&(((s||[])[n]||{}).subjects||[]).splice(c,1),"topic"===t&&(((((s||[])[n]||{}).subjects||[])[a]||{}).topics||[]).splice(c,1),s}(u,p,n,a,0,t);l(e,o,"deleting")}}},o.a.createElement(B.a,{fontSize:"small",style:{color:i}})),z===v?o.a.createElement(R.a,null):o.a.createElement(J.a,null)),o.a.createElement(x.a,{in:z===v,timeout:"auto",unmountOnExit:!0},o.a.createElement(_,{folderDocs:V,folderType:p,childFolderType:C,fieldArrayName:F,moduleIndex:n,subjectIndex:a,index:t,t:f,subjects:c,modules:I,secondaryBlue:i,onSelectDocument:d,handleOpenFolder:s,updateCategories:l,modulesFormValues:u,classes:M,isDisabledInput:N})))})),o.a.createElement(g.a,{button:!0,onClick:function(){return t.push()}},o.a.createElement(P.a,{style:{color:i}},o.a.createElement(N.a,null)),o.a.createElement(F.a,{style:{color:i}},f("instructorModules.buttons.add".concat(p)))))},U=Object(d.a)((function(e){return{root:{overflowX:"hidden",maxWidth:600,margin:"30px auto",paddingLeft:e.spacing(1),paddingTop:30},nested:{paddingLeft:e.spacing(1.5)},nestedTwice:{paddingLeft:e.spacing(2)},nestedFile:{paddingLeft:e.spacing(5)}}}));var q=Object(s.a)({form:"category",enableReinitialize:!0,destroyOnUnmount:!1})((function(e){var t=e.initialValues,n=e.token,r=e.formValues,s=e.course,u=e.courses,d=e.updateCategory,f=e.loading,v=e.openModal,b=e.closeModal,h=e.width,y=e.isDarkTheme,g=e.fetchModules,E=e.history,j=Object(p.a)().t;Object(a.useEffect)((function(){g(s,n)}),[]);var x=U(),I=Object(V.a)(u,s),M=(r||{}).modules,O=(I||{}).lessons,T=((I||{}).tests||[]).filter((function(e){return!e.assignment})),z=((I||{}).tests||[]).filter((function(e){return e.assignment})),L="#0058AE";return y&&(L="#2196f3"),o.a.createElement(m.a,null,o.a.createElement(F.a,{align:"center",variant:"h4",gutterBottom:!0},j("layout.drawer.modules")),o.a.createElement(l.a,{active:f,transparent:!0}),o.a.createElement(i.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:x.root},o.a.createElement(c.a,{name:"modules",component:K,width:h,modules:M||[],secondaryBlue:L,t:j,folderType:"module",updateCategories:function(e,a,o){!function(e,a,o){var c=!!(t||{})._id;d("deleting"===o?{modules:a}:r,n,c,s),b()}(0,a,o)},handleOpenFolder:function(e){!function(e){var t,n=e,a=(M||[]).findIndex((function(e,t){return t===(n||[])[0]})),o=(((M||[]).find((function(e,t){return t===(n||[])[0]}))||{}).subjects||[]).findIndex((function(e,t){return t===(n||[])[1]})),c=(((((M||[]).find((function(e,t){return t===(n||[])[0]}))||{}).subjects||[]).find((function(e,t){return t===(n||[])[1]}))||{}).topics||[]).findIndex((function(e,t){return t===(n||[])[2]}));a>-1&&(t="modules.".concat(a,".folder")),o>-1&&(t="modules.".concat(a,".subjects.").concat(o,".folder")),c>-1&&(t="modules.".concat(a,".subjects.").concat(o,".topics.").concat(c,".folder")),v({folderId:e,tests:T,assignments:z,lessons:O,field:t},"contents")}(e)},modulesFormValues:r,onSelectDocument:function(e,t){if("lesson"===e){var n=I.lessons.find((function(e){return e._id===t}));E.push("/instructor-panel/course/".concat(n.course,"/lesson/").concat(n._id,"/preview"))}if("test"===e||"assignment"===e){var a=I.tests.find((function(e){return e._id===t}));v(a,"testSummary")}}})))}));t.default=Object(u.b)((function(e){return{formValues:Object(r.a)("category")(e),openFolderPath:e.instructorModules.openFolderPath,token:e.authentication.token,initialValues:e.common.modules,course:e.common.selectedCourse,courses:e.common.courses,loading:e.instructorModules.loading,width:e.common.width,isDarkTheme:e.common.isDarkTheme}}),(function(e){return{updateCategory:function(t,n,a,o){e(f.zc(t,n,a,o))},clearModalStates:function(){return e(f.p())},openModal:function(t,n){return e(f.Bc(t,n))},closeModal:function(){return e(f.u())},fetchModules:function(t,n){return e(f.Kb(t,n))}}}))(q)},821:function(e,t,n){"use strict";var a=n(91);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(0)),c=(0,a(n(107)).default)(o.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=c},839:function(e,t,n){"use strict";var a=n(91);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(0)),c=(0,a(n(107)).default)(o.default.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"}),"Assessment");t.default=c},868:function(e,t,n){"use strict";var a=n(91);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(0)),c=(0,a(n(107)).default)(o.default.createElement("path",{d:"M13 12h7v1.5h-7zm0-2.5h7V11h-7zm0 5h7V16h-7zM21 4H3c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 15h-9V6h9v13z"}),"ChromeReaderMode");t.default=c},882:function(e,t,n){"use strict";var a=n(5),o=n(11),c=n(0),r=(n(2),n(10)),s=n(13),l=n(81),u=c.forwardRef((function(e,t){var n=e.classes,s=e.className,u=Object(o.a)(e,["classes","className"]),d=c.useContext(l.a);return c.createElement("div",Object(a.a)({className:Object(r.a)(n.root,s,"flex-start"===d.alignItems&&n.alignItemsFlexStart),ref:t},u))}));t.a=Object(s.a)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(u)}}]);