(this["webpackJsonpe-learn"]=this["webpackJsonpe-learn"]||[]).push([[40],{1065:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),l=n(30),c=n(4),r=n(738),i=n(799),o=n(38),u=n(69),m=n.n(u),d=n(106),f=n(879),p=n(819),g=n.n(p),y=n(837),E=n.n(y),v=n(809),D=n(732),M=n(421),O=n(242);t.default=Object(l.b)((function(e){return{course:Object(O.a)(e.common.courses,e.common.selectedCourse),testResults:e.studentTest.testResults,token:e.authentication.token,notifications:e.common.notifications}}),(function(e){return{openModal:function(t,n){return e(c.sc(t,n))},onStartAssignment:function(t,n){e(c.Wb(t,!0,n,null,!1))},onContinueAssignment:function(t,n,a){e(c.Wb(t,!0,n,a,!1)),e(c.Kc("assignment"))},markAsSeen:function(t,n){e(c.kc(t,n))}}}))((function(e){var t=e.testResults,n=void 0===t?{}:t,l=e.isTest,c=e.token,u=e.folder,p=e.isModules,y=e.course,O=void 0===y?{}:y,b=e.isAssignment,h=e.notifications,I=e.openModal,k=e.markAsSeen;Object(a.useEffect)((function(){var e=(O.tests||[]).filter((function(e){return!e.assignment})).map((function(e){return e._id})),t=(O.tests||[]).filter((function(e){return e.assignment})).map((function(e){return e._id})),n=(h||[]).find((function(n){return(e||[]).includes(n.documentId)&&l&&"test"===n.documentType&&!n.seen||(t||[]).includes(n.documentId)&&b&&"assignment"===n.documentType&&!n.seen||(t||[]).includes(n.documentId)&&b&&"resetAssignment"===n.documentType&&!n.seen?n:void 0}));n&&k(n._id,c)}),[]);var x,Y=(n||{}).assignmentsInSession,_=(((n||{}).testResults||[]).filter((function(e){return e.course===O._id}))||[]).filter((function(e){return e.closed&&!e.isExcused?e.test:null})).map((function(e){return e.test})),H=(((n||{}).testResults||[]).filter((function(e){return e.isExcused}))||[]).map((function(e){return e.test})),S=(O.tests||[]).filter((function(e){return!e.assignment})),w=(O.tests||[]).filter((function(e){return e.assignment})),A=S.filter((function(e){return _.includes(e._id)?null:!e.assignment})).filter((function(e){return e})),T=w.filter((function(e){return _.includes(e._id)?null:e.assignment}));l&&(x=A),b&&(x=T);var C=(u||[]).map((function(e){return e.documentId}))||[],L=Object(M.a)().t,j=L;return s.a.createElement(o.a,null,!p&&s.a.createElement(d.a,{align:"center",variant:"h4",gutterBottom:!0},L(l?"layout.drawer.tests":"layout.drawer.assignments")),(x||[]).map((function(e,t){if(!C.includes(e._id)&&p)return null;var a=new Date(parseInt(e.dueDate||"")).getTime(),l=Date.now()>a,c=Math.ceil((Date.now()-a)/864e5),u=c>(e.lateDaysAllowed||0),y=parseInt(e.availableOnDate)<Date.now();if(e.assignment)return s.a.createElement(o.a,{key:e._id},(Y||[]).map((function(e){return e.assignment})).includes(e._id)?s.a.createElement(r.a,{style:{display:"block"},button:!0,onClick:function(t){t.stopPropagation();((n||{}).testResults||[]).find((function(t){return t.test===e._id}));I(e,"startAssignmentConfirmation")}},s.a.createElement("div",{style:{display:"flex"}},p&&s.a.createElement(o.a,null,s.a.createElement(D.a,{control:s.a.createElement(v.a,{checked:!1,value:"checked"})}),s.a.createElement(f.a,{style:{margin:"auto",minWidth:"30px"}},s.a.createElement(g.a,{color:"primary"}))),s.a.createElement(i.a,{primary:"".concat(j("tests.continueAssignment")," ").concat(e.testName)})),u&&s.a.createElement(d.a,{style:{color:"red"}},j("tests.missedDeadline")),e.dueDate&&s.a.createElement("div",null,s.a.createElement(i.a,{secondary:"\n                     ".concat(j(l?"tests.assignmentWasDueOn":"tests.assignmentIsDueOn")," ").concat(m()(parseInt(e.dueDate)).locale(localStorage.getItem("i18nextLng")).format("dddd, MMMM DD YYYY, HH:mm"),"\n                    ")}))):s.a.createElement(r.a,{style:{display:"block"},button:!0,onClick:function(t){t.stopPropagation(),I(e,"startAssignmentConfirmation")}},s.a.createElement("div",{style:{display:"flex"}},p&&s.a.createElement(o.a,null,s.a.createElement(D.a,{control:s.a.createElement(v.a,{checked:!1,value:"checked"})}),s.a.createElement(f.a,{style:{margin:"auto",minWidth:"30px"}},s.a.createElement(g.a,{color:"primary"}))),s.a.createElement(i.a,{primary:"".concat(j("tests.startAssignment")," ").concat(e.testName)})),u&&s.a.createElement(d.a,{style:{color:"red"}},j("tests.missedDeadline")),H.includes(e._id)&&s.a.createElement(d.a,{style:{color:"red"}},j("tests.excused")),e.availableOnDate&&s.a.createElement("div",null,s.a.createElement(i.a,{secondary:"\n                         ".concat(j(y?"tests.assignmentHasOpenedOn":"tests.assignmentWillOpenOn")," ").concat(m()(parseInt(e.availableOnDate)).locale(localStorage.getItem("i18nextLng")).format("dddd, MMMM DD YYYY, HH:mm"),"\n                      ")})),e.dueDate&&s.a.createElement("div",null,s.a.createElement(i.a,{secondary:"".concat(j(u?"tests.wasDueOn":"tests.DueOn")," ").concat(m()(parseInt(e.dueDate)).locale(localStorage.getItem("i18nextLng")).format("dddd, MMMM DD YYYY, HH:mm"),"\n                          ")})),e.allowLateSubmission&&!u&&s.a.createElement(o.a,null,s.a.createElement(i.a,{secondary:"".concat(e.latePenalty,"% ").concat(j("tests.latePenalty"),"\n                      ")}),s.a.createElement(i.a,{secondary:"".concat(j("tests.closesOn")," ").concat(m()(parseInt(e.dueDate)+864e5*e.lateDaysAllowed).locale(localStorage.getItem("i18nextLng")).format("dddd, MMMM DD YYYY, HH:mm"),"\n                          ")})),e.allowLateSubmission&&!u&&l&&s.a.createElement(d.a,{style:{color:"red"}},"".concat(j("tests.latePenaltyAccumulated")," ").concat(c*e.latePenalty,"%"))));if(!e.assignment){((n||{}).testResults||[]).findIndex((function(t){return t.test===e._id}));return s.a.createElement(o.a,{key:e._id},s.a.createElement(r.a,{style:{display:"block"},button:!0,onClick:function(t){t.stopPropagation(),I(e,"startTestConfirmation")},key:e._id},s.a.createElement("div",{style:{display:"flex"}},p&&s.a.createElement(o.a,null,s.a.createElement(D.a,{control:s.a.createElement(v.a,{checked:!1,value:"checked"})}),s.a.createElement(f.a,{style:{margin:"auto",minWidth:"30px"}},s.a.createElement(E.a,{color:"primary"}))),s.a.createElement(i.a,{primary:e.testName}),s.a.createElement(d.a,{style:{marginTop:"8px"},variant:"caption",color:"final"===e.testType||"midterm"===e.testType?"error":"inherit"},j("tests.".concat(e.testType)))),e.availableOnDate&&s.a.createElement("div",null,s.a.createElement(i.a,{secondary:"".concat(j(y?"tests.testHasOpenedOn":"tests.testWillOpenOn")," ").concat(m()(parseInt(e.availableOnDate)).locale(localStorage.getItem("i18nextLng")).format("dddd, MMMM DD YYYY, HH:mm"),"\n              ")})),e.dueDate&&s.a.createElement("div",null,s.a.createElement(i.a,{secondary:"\n                      ".concat(j(u?"tests.testClosedOn":"tests.testClosesOn")," \n                      ").concat(m()(parseInt(e.dueDate)).locale(localStorage.getItem("i18nextLng")).format("dddd, MMMM DD YYYY, HH:mm"),"\n                    ")})),u&&s.a.createElement(d.a,{style:{color:"red"}},j("tests.missedDeadline")),H.includes(e._id)&&s.a.createElement(d.a,{style:{color:"red"}},j("tests.excused"))))}})))}))},819:function(e,t,n){"use strict";var a=n(91);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(n(0)),l=(0,a(n(107)).default)(s.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=l},837:function(e,t,n){"use strict";var a=n(91);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a(n(0)),l=(0,a(n(107)).default)(s.default.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"}),"Assessment");t.default=l},879:function(e,t,n){"use strict";var a=n(5),s=n(11),l=n(0),c=(n(2),n(10)),r=n(13),i=n(80),o=l.forwardRef((function(e,t){var n=e.classes,r=e.className,o=Object(s.a)(e,["classes","className"]),u=l.useContext(i.a);return l.createElement("div",Object(a.a)({className:Object(c.a)(n.root,r,"flex-start"===u.alignItems&&n.alignItemsFlexStart),ref:t},o))}));t.a=Object(r.a)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(o)}}]);