(this["webpackJsonpe-learn"]=this["webpackJsonpe-learn"]||[]).push([[43],{1233:function(e,t,a){e.exports=a.p+"static/media/course-icon.adaad8da.png"},1364:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(31),c=a(4),l=a(82),s=a(243),i=a(807),u=a(1343),d=a(1345),m=a(1075),p=a(107),g=a(1234),f=a.n(g),E=a(1235),h=a.n(E),v=a(245),C=a(1342),b=a(39),y=a(68),I=a.n(y),D=a(739),x=a(740),A=a(1233),k=a.n(A),S=a(746),N=a(1349);function T(e){var t=e.value,a=e.withLabel;return n.a.createElement(N.a,{display:"flex",alignItems:"center"},n.a.createElement(N.a,{width:"100%",mr:1},n.a.createElement(S.a,{variant:"determinate",value:t})),a&&n.a.createElement(N.a,{minWidth:35},n.a.createElement(p.a,{variant:"body2",color:"textSecondary"},"".concat(Math.round(t),"%"))))}var w=Object(s.a)({root:{width:"100%"}});function L(e){var t=e.progress,a=e.withoutLabel,r=w();return n.a.createElement("div",{className:r.root},n.a.createElement(T,{value:t,withLabel:!a}))}var O=function(e,t){var a=((t||[]).filter((function(t){return t.isExcused&&e._id===t.course}))||[]).map((function(e){return e.test})),r=(a||[]).length,n=(e.lessons||[]).reduce((function(e,t){return e+t.lessonSlides.length}),0),o=(e.lessons||[]).reduce((function(e,t){return t.lessonSlides.filter((function(e){return e.seen})).length+e}),0),c=e.totalIncludedTests-r,l=e.tests.filter((function(e){return e.completed&&!(a||[]).includes(e._id)})).length+o,s=n+c;return isNaN(parseInt(l/s*100))?0:parseInt(l/s*100)},M=a(428),_=a(1344),R=function(e){var t=e.instructorLoggedIn;return n.a.createElement("div",null,n.a.createElement(C.a,{container:!0,justify:"space-around",spacing:3},["1","2","3"].map((function(e){return n.a.createElement(C.a,{style:{maxWidth:320},key:e,item:!0,xs:12,sm:6,md:4,lg:3},n.a.createElement(i.a,{style:{marginBottom:20}},n.a.createElement(u.a,{action:t?n.a.createElement(D.a,{disabled:!0,control:n.a.createElement(x.a,{options:{label:"",disabled:!1}})}):n.a.createElement(f.a,{style:{margin:"5px"},color:"disabled"})}),n.a.createElement(_.a,{variant:"rect",height:"150px"}),n.a.createElement(m.a,{style:{height:260}},n.a.createElement(_.a,{variant:"text"}),n.a.createElement(_.a,{variant:"text"}))))}))))},Y=Object(s.a)((function(e){return{root:{flexGrow:1},courseTitle:{textAlign:"center",cursor:"pointer"},button:{marginBottom:"10px"},media:{height:0,paddingTop:"56.25%",cursor:"pointer"},gridContainer:{gridTemplateAreas:"Card Card"},gridItem:{gridArea:"Card"},smallFont:{fontSize:"0.8em"},redText:{color:"#F44336"}}}));t.default=Object(o.b)((function(e){return{loading:e.common.loading,courses:e.common.courses,tab:e.common.tab,loadedUser:e.authentication.loadedUser,studentLoggedIn:e.authentication.studentLoggedIn,instructorLoggedIn:e.authentication.instructorLoggedIn,token:e.authentication.token,studentId:e.authentication.userId,testResults:e.studentTest.testResults,configuration:e.common.configuration,isDarkTheme:e.common.isDarkTheme,transactions:e.transactions.transactions}}),(function(e){return{editCourse:function(t,a){return e(c.ub(t,a))},changeStatus:function(t,a){return e(c.sd(t,a))},onSelectCourse:function(t){e(c.Tc(t))},openModal:function(t,a){return e(c.Ac(t,a))},enroll:function(t,a,r,n,o){e(c.fb(t,a,r,n,o))}}}))((function(e){var t=e.studentLoggedIn,a=e.instructorLoggedIn,r=e.studentId,o=e.token,c=e.isDarkTheme,s=e.courses,g=e.openModal,E=e.changeStatus,y=e.onSelectCourse,A=e.testResults,S=e.configuration,N=e.loading,T=e.enroll,w=e.loadedUser,_=e.transactions,j=e.history,q=Object(M.a)().t,W=Object(l.h)().pathname,H=function(e){y(e),a&&j.push("/instructor-panel/course/".concat(e,"/modules")),t&&j.push("/student-panel/course/".concat(e,"/modules"))},F=!!Object(l.f)(W,{path:"/student-panel/my-courses",exact:!0}),U=S.isApproveEnrollments,B=(w||{}).isAccountActivated,J=Y(),z=(s||[]).filter((function(e){return e.completed})).map((function(e){return e._id}));if(!w)return null;if(!B&&!N&&w)return n.a.createElement(p.a,{color:"secondary",align:"center"},q("layout.accountNotYetActivated"));if(!s)return n.a.createElement(R,{instructorLoggedIn:a,isDarkTheme:c});if(0===(s||[]).length&&!N&&s)return n.a.createElement(p.a,{align:"center"},q("courseCards.noCourses"));var G=s.filter((function(e){return e.enrolled&&t&&F||t&&!F||a})).map((function(e,c){var l,s=e.prerequisites.findIndex((function(e){if(!z.includes(e._id))return e}));if(t){var y=parseInt(e.enrollmentStartDate),N=parseInt(e.enrollmentEndDate),w=Date.now()>y&&Date.now()<N;l=n.a.createElement(b.a,null,(s>-1&&!e.enrolled||e.enrolled||!e.enrolled&&!U||e.enrollmentRequested)&&n.a.createElement(v.a,{color:"primary",onClick:function(){return g(e,"syllabus")},fullWidth:!0},q("courseCards.buttons.syllabus")),!e.enrolled&&!e.accessDenied&&!e.enrollmentRequested&&!(s>-1)&&(e.studentCapacity>e.numberOfStudents&&e.studentCapacity||!e.studentCapacity)&&n.a.createElement(v.a,{color:"primary",onClick:function(){var t=(_||[]).findIndex((function(t){return t.courseId===e._id}))>-1;if(U||e.cost&&!t)g(e,"enrollRequest");else{T(r,e._id,o,j,!0)}},fullWidth:!0,disabled:e.grade||parseInt(e.courseDropDeadline)>Date.now()&&e.droppedOut&&!(S||{}).isEnrollAllowedAfterDropCourse||e.droppedOut&&e.courseDropDeadline&&parseInt(e.courseDropDeadline)<Date.now()||!e.courseActive||!w&&!!y&&!!N||s>-1},q("courseCards.buttons.enroll")),e.enrolled&&n.a.createElement(b.a,null,n.a.createElement(v.a,{color:"secondary",fullWidth:!0,onClick:function(){return g(e,"dropConfirmation")},disabled:!e.courseActive||e.grade},q("courseCards.buttons.drop"))),e.enrollmentRequested&&n.a.createElement(p.a,{style:{textAlign:"center"},paragraph:!0,color:"error",variant:"caption"},q("courseCards.enrollmentRequested")),s>-1&&!e.enrolled&&n.a.createElement(p.a,{paragraph:!0,color:"error",variant:"caption"},q("courseCards.completePrereqs")),e.passed&&e.grade&&n.a.createElement(p.a,{align:"center",paragraph:!0,color:"success",variant:"caption"},q("courseCards.courseCompleted",{grade:e.grade})),!e.passed&&e.grade&&n.a.createElement(p.a,{align:"center",paragraph:!0,color:"error",variant:"caption"},q("courseCards.courseFailed",{grade:e.grade})),e.droppedOut&&n.a.createElement(p.a,{align:"center",paragraph:!0,color:"error",variant:"caption"},q("courseCards.droppedOut")))}return a&&(l=n.a.createElement(b.a,null,n.a.createElement(v.a,{className:J.button,color:"primary",onClick:function(){j.push("/instructor-panel/course/edit/".concat(e._id))},fullWidth:!0},q("courseCards.buttons.edit")),n.a.createElement(v.a,{className:J.button,color:"secondary",onClick:function(){return g(e,"deleteCourse")},fullWidth:!0},q("courseCards.buttons.delete")))),n.a.createElement(C.a,{style:{maxWidth:320},item:!0,xs:12,sm:6,md:4,lg:3,key:e._id},n.a.createElement(i.a,null,n.a.createElement(u.a,{action:t?n.a.createElement(b.a,null,e.courseActive?n.a.createElement(h.a,{style:{margin:"5px"},color:"primary"}):n.a.createElement(f.a,{style:{margin:"5px"},color:"error"})):n.a.createElement(D.a,{checked:e.courseActive,onChange:function(){E(e._id,o)},control:n.a.createElement(x.a,{color:"primary",options:{label:"",disabled:!1}}),label:e.courseActive?n.a.createElement(p.a,{variant:"body1"}," ",q("courseCards.fields.courseActive")):n.a.createElement(p.a,{variant:"body1",className:J.redText},q("courseCards.fields.courseInactive"))}),subheader:t&&n.a.createElement(b.a,null,e.courseActive?n.a.createElement(p.a,{variant:"body1"}," ",q("courseCards.fields.courseActive")):n.a.createElement(p.a,{variant:"body1",className:J.redText},q("courseCards.fields.courseInactive")))}),n.a.createElement(d.a,{style:e.enrolled&&e.courseActive||!t?null:{opacity:.2,cursor:"auto"},onClick:function(){(e.enrolled&&e.courseActive||!t)&&H(e._id)},className:J.media,image:e.courseImage?e.courseImage:k.a,title:"Course Image"}),n.a.createElement(m.a,null,n.a.createElement("h2",{style:e.enrolled&&e.courseActive||!t?null:{opacity:.2,cursor:"auto"},onClick:function(){(e.enrolled&&e.courseActive||!t)&&H(e._id)},className:J.courseTitle},e.courseName),e.enrolled&&n.a.createElement(L,{progress:O(e,(A||{}).testResults)}),t&&n.a.createElement(p.a,{paragraph:!0,variant:"caption"},q("courseCards.instructor")+":"," ".concat(e.courseInstructor.firstName," ").concat(e.courseInstructor.lastName)),e.courseActive&&t?n.a.createElement(b.a,null,n.a.createElement(p.a,{paragraph:!0,variant:"caption"},q("courseCards.studentsEnrolled")+":"," ".concat(e.numberOfStudents," ").concat(e.studentCapacity?"/ "+e.studentCapacity:"")),e.enrollmentStartDate&&n.a.createElement(p.a,{paragraph:!0,variant:"caption"},q("courseCards.enrollmentStart")+":"," ".concat(I()(parseInt(e.enrollmentStartDate)).locale(localStorage.getItem("i18nextLng")).format("dddd, MMMM DD YYYY, HH:mm")," ")),e.enrollmentEndDate&&n.a.createElement(p.a,{paragraph:!0,variant:"caption"},q("courseCards.enrollmentDeadline")+":"," ".concat(I()(parseInt(e.enrollmentEndDate)).locale(localStorage.getItem("i18nextLng")).format("dddd, MMMM DD YYYY, HH:mm")," "))):t&&n.a.createElement(p.a,{paragraph:!0,color:"error",variant:"caption"},q("courseCards.courseNotActivated")),e.accessDenied&&n.a.createElement(p.a,{paragraph:!0,color:"error",variant:"caption"},q("courseCards.deniedRequest")),a&&n.a.createElement(b.a,null,n.a.createElement(p.a,{paragraph:!0,variant:"caption"},q("courseCards.studentsEnrolled")+":"," ".concat(e.numberOfStudents," ").concat(e.studentCapacity?"/ "+e.studentCapacity:""))),l)))}));return n.a.createElement("div",{className:J.root},n.a.createElement(C.a,{container:!0,justify:"space-around",spacing:3},G))}))}}]);