(this["webpackJsonpe-learn"]=this["webpackJsonpe-learn"]||[]).push([[40,45],{1026:function(e,t,a){e.exports=a.p+"static/media/course-icon.adaad8da.png"},1079:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(31),c=a(4),l=a(83),s=a(438),i=a(802),u=a(1330),d=a(1332),m=a(1074),p=a(106),f=a(1073),g=a.n(f),E=a(1075),h=a.n(E),v=a(444),b=a(1329),y=a(38),C=a(69),D=a.n(C),I=a(734),x=a(735),O=a(1026),S=a.n(O),A=a(741),k=a(1339);function j(e){var t=e.value,a=e.withLabel;return r.a.createElement(k.a,{display:"flex",alignItems:"center"},r.a.createElement(k.a,{width:"100%",mr:1},r.a.createElement(A.a,{variant:"determinate",value:t})),a&&r.a.createElement(k.a,{minWidth:35},r.a.createElement(p.a,{variant:"body2",color:"textSecondary"},"".concat(Math.round(t),"%"))))}var T=Object(s.a)({root:{width:"100%"}});function w(e){var t=e.progress,a=e.withoutLabel,n=T();return r.a.createElement("div",{className:n.root},r.a.createElement(j,{value:t,withLabel:!a}))}var N=function(e,t){var a=((t||[]).filter((function(t){return t.isExcused&&e._id===t.course}))||[]).map((function(e){return e.test})),n=(a||[]).length,r=(e.lessons||[]).reduce((function(e,t){return e+t.lessonSlides.length}),0),o=(e.lessons||[]).reduce((function(e,t){return t.lessonSlides.filter((function(e){return e.seen})).length+e}),0),c=e.totalIncludedTests-n,l=e.tests.filter((function(e){return e.completed&&!(a||[]).includes(e._id)})).length+o,s=r+c;return isNaN(parseInt(l/s*100))?0:parseInt(l/s*100)},L=a(422),M=a(1331),R=function(e){var t=e.instructorLoggedIn;return r.a.createElement("div",null,r.a.createElement(b.a,{container:!0,justify:"space-around",spacing:3},["1","2","3"].map((function(e){return r.a.createElement(b.a,{style:{maxWidth:320},key:e,item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(i.a,{style:{marginBottom:20}},r.a.createElement(u.a,{action:t?r.a.createElement(I.a,{disabled:!0,control:r.a.createElement(x.a,{options:{label:"",disabled:!1}})}):r.a.createElement(g.a,{style:{margin:"5px"},color:"disabled"})}),r.a.createElement(M.a,{variant:"rect",height:"150px"}),r.a.createElement(m.a,{style:{height:260}},r.a.createElement(M.a,{variant:"text"}),r.a.createElement(M.a,{variant:"text"}))))}))))},_=Object(s.a)((function(e){return{root:{flexGrow:1},courseTitle:{textAlign:"center",cursor:"pointer"},button:{marginBottom:"10px"},media:{height:0,paddingTop:"56.25%",cursor:"pointer"},gridContainer:{gridTemplateAreas:"Card Card"},gridItem:{gridArea:"Card"},smallFont:{fontSize:"0.8em"},redText:{color:"#F44336"}}}));t.default=Object(o.b)((function(e){return{loading:e.common.loading,courses:e.common.courses,tab:e.common.tab,loadedUser:e.authentication.loadedUser,studentLoggedIn:e.authentication.studentLoggedIn,instructorLoggedIn:e.authentication.instructorLoggedIn,token:e.authentication.token,studentId:e.authentication.userId,testResults:e.studentTest.testResults,configuration:e.common.configuration,isDarkTheme:e.common.isDarkTheme,transactions:e.transactions.transactions}}),(function(e){return{editCourse:function(t,a){return e(c.vb(t,a))},changeStatus:function(t,a){return e(c.ud(t,a))},onSelectCourse:function(t){e(c.Uc(t))},openModal:function(t,a){return e(c.Bc(t,a))},enroll:function(t,a,n,r,o){e(c.gb(t,a,n,r,o))}}}))((function(e){var t=e.studentLoggedIn,a=e.instructorLoggedIn,n=e.studentId,o=e.token,c=e.isDarkTheme,s=e.courses,f=e.openModal,E=e.changeStatus,C=e.onSelectCourse,O=e.testResults,A=e.configuration,k=e.loading,j=e.enroll,T=e.loadedUser,M=e.transactions,q=e.history,Y=Object(L.a)().t,W=Object(l.h)().pathname,P=function(e){C(e),a&&q.push("/instructor-panel/course/".concat(e,"/modules")),t&&q.push("/student-panel/course/".concat(e,"/modules"))},H=!!Object(l.f)(W,{path:"/student-panel/my-courses",exact:!0}),U=A.isApproveEnrollments,B=(T||{}).isAccountActivated,F=_(),J=(s||[]).filter((function(e){return e.completed})).map((function(e){return e._id}));if(!B&&!k)return r.a.createElement(p.a,{color:"secondary",align:"center"},Y("layout.accountNotYetActivated"));if(!s)return r.a.createElement(R,{instructorLoggedIn:a,isDarkTheme:c});if(0===(s||[]).length&&!k&&s)return r.a.createElement(p.a,{align:"center"},Y("courseCards.noCourses"));var z=s.filter((function(e){return e.enrolled&&t&&H||t&&!H||a})).map((function(e,c){var l,s=e.prerequisites.findIndex((function(e){if(!J.includes(e._id))return e}));if(t){var C=parseInt(e.enrollmentStartDate),k=parseInt(e.enrollmentEndDate),T=Date.now()>C&&Date.now()<k;l=r.a.createElement(y.a,null,(s>-1&&!e.enrolled||e.enrolled||!e.enrolled&&!U||e.enrollmentRequested)&&r.a.createElement(v.a,{color:"primary",onClick:function(){return f(e,"syllabus")},fullWidth:!0},Y("courseCards.buttons.syllabus")),!e.enrolled&&!e.accessDenied&&!e.enrollmentRequested&&!(s>-1)&&(e.studentCapacity>e.numberOfStudents&&e.studentCapacity||!e.studentCapacity)&&r.a.createElement(v.a,{color:"primary",onClick:function(){var t=(M||[]).findIndex((function(t){return t.courseId===e._id}))>-1;if(U||e.cost&&!t)f(e,"enrollRequest");else{j(n,e._id,o,q,!0)}},fullWidth:!0,disabled:e.grade||parseInt(e.courseDropDeadline)>Date.now()&&e.droppedOut&&!(A||{}).isEnrollAllowedAfterDropCourse||e.droppedOut&&e.courseDropDeadline&&parseInt(e.courseDropDeadline)<Date.now()||!e.courseActive||!T&&!!C&&!!k||s>-1},Y("courseCards.buttons.enroll")),e.enrolled&&r.a.createElement(y.a,null,r.a.createElement(v.a,{color:"secondary",fullWidth:!0,onClick:function(){return f(e,"dropConfirmation")},disabled:!e.courseActive||e.grade},Y("courseCards.buttons.drop"))),e.enrollmentRequested&&r.a.createElement(p.a,{style:{textAlign:"center"},paragraph:!0,color:"error",variant:"caption"},Y("courseCards.enrollmentRequested")),s>-1&&!e.enrolled&&r.a.createElement(p.a,{paragraph:!0,color:"error",variant:"caption"},Y("courseCards.completePrereqs")),e.passed&&e.grade&&r.a.createElement(p.a,{align:"center",paragraph:!0,color:"success",variant:"caption"},Y("courseCards.courseCompleted",{grade:e.grade})),!e.passed&&e.grade&&r.a.createElement(p.a,{align:"center",paragraph:!0,color:"error",variant:"caption"},Y("courseCards.courseFailed",{grade:e.grade})),e.droppedOut&&r.a.createElement(p.a,{align:"center",paragraph:!0,color:"error",variant:"caption"},Y("courseCards.droppedOut")))}return a&&(l=r.a.createElement(y.a,null,r.a.createElement(v.a,{className:F.button,color:"primary",onClick:function(){q.push("/instructor-panel/course/edit/".concat(e._id))},fullWidth:!0},Y("courseCards.buttons.edit")),r.a.createElement(v.a,{className:F.button,color:"secondary",onClick:function(){return f(e,"deleteCourse")},fullWidth:!0},Y("courseCards.buttons.delete")))),r.a.createElement(b.a,{style:{maxWidth:320},item:!0,xs:12,sm:6,md:4,lg:3,key:e._id},r.a.createElement(i.a,null,r.a.createElement(u.a,{action:t?r.a.createElement(y.a,null,e.courseActive?r.a.createElement(h.a,{style:{margin:"5px"},color:"primary"}):r.a.createElement(g.a,{style:{margin:"5px"},color:"error"})):r.a.createElement(I.a,{checked:e.courseActive,onChange:function(){E(e._id,o)},control:r.a.createElement(x.a,{color:"primary",options:{label:"",disabled:!1}}),label:e.courseActive?r.a.createElement(p.a,{variant:"body1"}," ",Y("courseCards.fields.courseActive")):r.a.createElement(p.a,{variant:"body1",className:F.redText},Y("courseCards.fields.courseInactive"))}),subheader:t&&r.a.createElement(y.a,null,e.courseActive?r.a.createElement(p.a,{variant:"body1"}," ",Y("courseCards.fields.courseActive")):r.a.createElement(p.a,{variant:"body1",className:F.redText},Y("courseCards.fields.courseInactive")))}),r.a.createElement(d.a,{style:e.enrolled&&e.courseActive||!t?null:{opacity:.2,cursor:"auto"},onClick:function(){(e.enrolled&&e.courseActive||!t)&&P(e._id)},className:F.media,image:e.courseImage?e.courseImage:S.a,title:"Course Image"}),r.a.createElement(m.a,null,r.a.createElement("h2",{style:e.enrolled&&e.courseActive||!t?null:{opacity:.2,cursor:"auto"},onClick:function(){(e.enrolled&&e.courseActive||!t)&&P(e._id)},className:F.courseTitle},e.courseName),e.enrolled&&r.a.createElement(w,{progress:N(e,(O||{}).testResults)}),t&&r.a.createElement(p.a,{paragraph:!0,variant:"caption"},Y("courseCards.instructor")+":"," ".concat(e.courseInstructor.firstName," ").concat(e.courseInstructor.lastName)),e.courseActive&&t?r.a.createElement(y.a,null,r.a.createElement(p.a,{paragraph:!0,variant:"caption"},Y("courseCards.studentsEnrolled")+":"," ".concat(e.numberOfStudents," ").concat(e.studentCapacity?"/ "+e.studentCapacity:"")),e.enrollmentStartDate&&r.a.createElement(p.a,{paragraph:!0,variant:"caption"},Y("courseCards.enrollmentStart")+":"," ".concat(D()(parseInt(e.enrollmentStartDate)).locale(localStorage.getItem("i18nextLng")).format("dddd, MMMM DD YYYY, HH:mm")," ")),e.enrollmentEndDate&&r.a.createElement(p.a,{paragraph:!0,variant:"caption"},Y("courseCards.enrollmentDeadline")+":"," ".concat(D()(parseInt(e.enrollmentEndDate)).locale(localStorage.getItem("i18nextLng")).format("dddd, MMMM DD YYYY, HH:mm")," "))):t&&r.a.createElement(p.a,{paragraph:!0,color:"error",variant:"caption"},Y("courseCards.courseNotActivated")),e.accessDenied&&r.a.createElement(p.a,{paragraph:!0,color:"error",variant:"caption"},Y("courseCards.deniedRequest")),a&&r.a.createElement(y.a,null,r.a.createElement(p.a,{paragraph:!0,variant:"caption"},Y("courseCards.studentsEnrolled")+":"," ".concat(e.numberOfStudents," ").concat(e.studentCapacity?"/ "+e.studentCapacity:""))),l)))}));return r.a.createElement("div",{className:F.root},r.a.createElement(b.a,{container:!0,justify:"space-around",spacing:3},z))}))},1353:function(e,t,a){"use strict";a.r(t);var n=a(30),r=a(0),o=a.n(r),c=a(4),l=a(31),s=a(38),i=a(1079),u=a(2),d=a.n(u),m=a(996),p=a(106),f=a(1339);var g=function(e){var t=e.children,a=e.value,n=e.index,r=Object(m.a)(e,["children","value","index"]);return o.a.createElement(p.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"scrollable-force-tabpanel-".concat(n),"aria-labelledby":"scrollable-force-tab-".concat(n)},r),a===n&&o.a.createElement(f.a,{p:3},t))},E=a(83);g.propTypes={children:d.a.node,index:d.a.any.isRequired,value:d.a.any.isRequired};t.default=Object(l.b)((function(e){return{tab:e.common.tab,token:e.authentication.token,courses:e.common.courses,testInSession:e.studentTest.testInSession,loadedTestDataInProgress:e.studentTest.loadedTestDataInProgress}}),(function(e){return{clearModalStates:function(){return e(c.r())},fetchCourses:function(t){return e(c.yb(t))}}}))((function(e){var t=e.tab,a=e.courses,c=e.token,l=e.fetchCourses;e.testInSession,e.loadedTestDataInProgress,Object(E.h)().pathname;return Object(r.useEffect)((function(){var e,t=(a||[]).filter((function(e){return e.enrollmentStartDate&&Date.now()<parseInt(e.enrollmentStartDate)})).map((function(e){return parseInt(e.enrollmentStartDate)})),r=(a||[]).filter((function(e){return e.enrollmentEndDate&&Date.now()<parseInt(e.enrollmentEndDate)})).map((function(e){return parseInt(e.enrollmentEndDate)})),o=(a||[]).filter((function(e){return e.courseDropDeadline&&Date.now()<parseInt(e.courseDropDeadline)})).map((function(e){return parseInt(e.courseDropDeadline)})),s=[];[].concat(Object(n.a)(t),Object(n.a)(r),Object(n.a)(o)).forEach((function(t){e=setTimeout((function(){s.push(e),l(c)}),t-Date.now())}))}),[a]),o.a.createElement(s.a,null,!c&&o.a.createElement(E.a,{to:"/authentication"}),o.a.createElement(g,{value:t,index:0},o.a.createElement(i.default,null)),o.a.createElement(g,{value:t,index:1},o.a.createElement(i.default,null)))}))},996:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}a.d(t,"a",(function(){return n}))}}]);