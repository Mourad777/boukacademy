(this["webpackJsonpe-learn"]=this["webpackJsonpe-learn"]||[]).push([[45],{1022:function(e,t,a){e.exports=a.p+"static/media/course-icon.adaad8da.png"},1075:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(30),c=a(4),l=a(82),s=a(436),i=a(800),u=a(1327),d=a(1329),m=a(1070),p=a(106),g=a(1069),f=a.n(g),E=a(1071),h=a.n(E),v=a(442),C=a(1326),b=a(38),y=a(69),I=a.n(y),D=a(732),x=a(733),A=a(1022),k=a.n(A),S=a(739),N=a(1336);function w(e){var t=e.value,a=e.withLabel;return n.a.createElement(N.a,{display:"flex",alignItems:"center"},n.a.createElement(N.a,{width:"100%",mr:1},n.a.createElement(S.a,{variant:"determinate",value:t})),a&&n.a.createElement(N.a,{minWidth:35},n.a.createElement(p.a,{variant:"body2",color:"textSecondary"},"".concat(Math.round(t),"%"))))}var L=Object(s.a)({root:{width:"100%"}});function O(e){var t=e.progress,a=e.withoutLabel,r=L();return n.a.createElement("div",{className:r.root},n.a.createElement(w,{value:t,withLabel:!a}))}var T=function(e,t){var a=((t||[]).filter((function(t){return t.isExcused&&e._id===t.course}))||[]).map((function(e){return e.test})),r=(a||[]).length,n=(e.lessons||[]).reduce((function(e,t){return e+t.lessonSlides.length}),0),o=(e.lessons||[]).reduce((function(e,t){return t.lessonSlides.filter((function(e){return e.seen})).length+e}),0),c=e.totalIncludedTests-r,l=e.tests.filter((function(e){return e.completed&&!(a||[]).includes(e._id)})).length+o,s=n+c;return isNaN(parseInt(l/s*100))?0:parseInt(l/s*100)},M=a(421),R=a(1328),_=function(e){var t=e.instructorLoggedIn;return n.a.createElement("div",null,n.a.createElement(C.a,{container:!0,justify:"space-around",spacing:3},["1","2","3"].map((function(e){return n.a.createElement(C.a,{style:{maxWidth:320},key:e,item:!0,xs:12,sm:6,md:4,lg:3},n.a.createElement(i.a,{style:{marginBottom:20}},n.a.createElement(u.a,{action:t?n.a.createElement(D.a,{disabled:!0,control:n.a.createElement(x.a,{options:{label:"",disabled:!1}})}):n.a.createElement(f.a,{style:{margin:"5px"},color:"disabled"})}),n.a.createElement(R.a,{variant:"rect",height:"150px"}),n.a.createElement(m.a,{style:{height:260}},n.a.createElement(R.a,{variant:"text"}),n.a.createElement(R.a,{variant:"text"}))))}))))},Y=Object(s.a)((function(e){return{root:{flexGrow:1},courseTitle:{textAlign:"center",cursor:"pointer"},button:{marginBottom:"10px"},media:{height:0,paddingTop:"56.25%",cursor:"pointer"},gridContainer:{gridTemplateAreas:"Card Card"},gridItem:{gridArea:"Card"},smallFont:{fontSize:"0.8em"},redText:{color:"#F44336"}}}));t.default=Object(o.b)((function(e){return{loading:e.common.loading,courses:e.common.courses,tab:e.common.tab,loadedUser:e.authentication.loadedUser,studentLoggedIn:e.authentication.studentLoggedIn,instructorLoggedIn:e.authentication.instructorLoggedIn,token:e.authentication.token,studentId:e.authentication.userId,testResults:e.studentTest.testResults,configuration:e.common.configuration,isDarkTheme:e.common.isDarkTheme}}),(function(e){return{editCourse:function(t,a){return e(c.vb(t,a))},changeStatus:function(t,a){return e(c.id(t,a))},onSelectCourse:function(t){e(c.Ic(t))},openModal:function(t,a){return e(c.sc(t,a))},enroll:function(t,a,r,n,o){e(c.gb(t,a,r,n,o))}}}))((function(e){var t=e.studentLoggedIn,a=e.instructorLoggedIn,r=e.studentId,o=e.token,c=e.isDarkTheme,s=e.courses,g=e.openModal,E=e.changeStatus,y=e.onSelectCourse,A=e.testResults,S=e.configuration,N=e.loading,w=e.enroll,L=e.loadedUser,R=e.history,j=Object(M.a)().t,q=Object(l.h)().pathname,W=function(e){y(e),a&&R.push("/instructor-panel/course/".concat(e,"/modules")),t&&R.push("/student-panel/course/".concat(e,"/modules"))},H=!!Object(l.f)(q,{path:"/student-panel/my-courses",exact:!0}),F=S.isApproveEnrollments,U=(L||{}).isAccountActivated,B=Y(),J=(s||[]).filter((function(e){return e.completed})).map((function(e){return e._id}));if(!U&&!N)return n.a.createElement(p.a,{color:"secondary",align:"center"},j("layout.accountNotYetActivated"));if(!s)return n.a.createElement(_,{instructorLoggedIn:a,isDarkTheme:c});if(0===(s||[]).length&&!N&&s)return n.a.createElement(p.a,{align:"center"},j("courseCards.noCourses"));var z=s.filter((function(e){return e.enrolled&&t&&H||t&&!H||a})).map((function(e,c){var l,s=e.prerequisites.findIndex((function(e){if(!J.includes(e._id))return e}));if(t){var y=parseInt(e.enrollmentStartDate),N=parseInt(e.enrollmentEndDate),L=Date.now()>y&&Date.now()<N;l=n.a.createElement(b.a,null,(s>-1&&!e.enrolled||e.enrolled||!e.enrolled&&!F||e.enrollmentRequested)&&n.a.createElement(v.a,{color:"primary",onClick:function(){return g(e,"syllabus")},fullWidth:!0},j("courseCards.buttons.syllabus")),!e.enrolled&&!e.accessDenied&&!e.enrollmentRequested&&!(s>-1)&&(e.studentCapacity>e.numberOfStudents&&e.studentCapacity||!e.studentCapacity)&&n.a.createElement(v.a,{color:"primary",onClick:function(){if(F)g(e,"enrollRequest");else{w(r,e._id,o,R,!0)}},fullWidth:!0,disabled:e.grade||parseInt(e.courseDropDeadline)>Date.now()&&e.droppedOut&&!(S||{}).isEnrollAllowedAfterDropCourse||e.droppedOut&&e.courseDropDeadline&&parseInt(e.courseDropDeadline)<Date.now()||!e.courseActive||!L&&!!y&&!!N||s>-1},j("courseCards.buttons.enroll")),e.enrolled&&n.a.createElement(b.a,null,n.a.createElement(v.a,{color:"secondary",fullWidth:!0,onClick:function(){return g(e,"dropConfirmation")},disabled:!e.courseActive||e.grade},j("courseCards.buttons.drop"))),e.enrollmentRequested&&n.a.createElement(p.a,{style:{textAlign:"center"},paragraph:!0,color:"error",variant:"caption"},j("courseCards.enrollmentRequested")),s>-1&&!e.enrolled&&n.a.createElement(p.a,{paragraph:!0,color:"error",variant:"caption"},j("courseCards.completePrereqs")),e.passed&&e.grade&&n.a.createElement(p.a,{align:"center",paragraph:!0,color:"success",variant:"caption"},j("courseCards.courseCompleted",{grade:e.grade})),!e.passed&&e.grade&&n.a.createElement(p.a,{align:"center",paragraph:!0,color:"error",variant:"caption"},j("courseCards.courseFailed",{grade:e.grade})),e.droppedOut&&n.a.createElement(p.a,{align:"center",paragraph:!0,color:"error",variant:"caption"},j("courseCards.droppedOut")))}return a&&(l=n.a.createElement(b.a,null,n.a.createElement(v.a,{className:B.button,color:"primary",onClick:function(){R.push("/instructor-panel/course/edit/".concat(e._id))},fullWidth:!0},j("courseCards.buttons.edit")),n.a.createElement(v.a,{className:B.button,color:"secondary",onClick:function(){return g(e,"deleteCourse")},fullWidth:!0},j("courseCards.buttons.delete")))),n.a.createElement(C.a,{style:{maxWidth:320},item:!0,xs:12,sm:6,md:4,lg:3,key:e._id},n.a.createElement(i.a,null,n.a.createElement(u.a,{action:t?n.a.createElement(b.a,null,e.courseActive?n.a.createElement(h.a,{style:{margin:"5px"},color:"primary"}):n.a.createElement(f.a,{style:{margin:"5px"},color:"error"})):n.a.createElement(D.a,{checked:e.courseActive,onChange:function(){E(e._id,o)},control:n.a.createElement(x.a,{color:"primary",options:{label:"",disabled:!1}}),label:e.courseActive?n.a.createElement(p.a,{variant:"body1"}," ",j("courseCards.fields.courseActive")):n.a.createElement(p.a,{variant:"body1",className:B.redText},j("courseCards.fields.courseInactive"))}),subheader:t&&n.a.createElement(b.a,null,e.courseActive?n.a.createElement(p.a,{variant:"body1"}," ",j("courseCards.fields.courseActive")):n.a.createElement(p.a,{variant:"body1",className:B.redText},j("courseCards.fields.courseInactive")))}),n.a.createElement(d.a,{style:e.enrolled&&e.courseActive||!t?null:{opacity:.2,cursor:"auto"},onClick:function(){(e.enrolled&&e.courseActive||!t)&&W(e._id)},className:B.media,image:e.courseImage?e.courseImage:k.a,title:"Course Image"}),n.a.createElement(m.a,null,n.a.createElement("h2",{style:e.enrolled&&e.courseActive||!t?null:{opacity:.2,cursor:"auto"},onClick:function(){(e.enrolled&&e.courseActive||!t)&&W(e._id)},className:B.courseTitle},e.courseName),e.enrolled&&n.a.createElement(O,{progress:T(e,(A||{}).testResults)}),t&&n.a.createElement(p.a,{paragraph:!0,variant:"caption"},j("courseCards.instructor")+":"," ".concat(e.courseInstructor.firstName," ").concat(e.courseInstructor.lastName)),e.courseActive&&t?n.a.createElement(b.a,null,n.a.createElement(p.a,{paragraph:!0,variant:"caption"},j("courseCards.studentsEnrolled")+":"," ".concat(e.numberOfStudents," ").concat(e.studentCapacity?"/ "+e.studentCapacity:"")),e.enrollmentStartDate&&n.a.createElement(p.a,{paragraph:!0,variant:"caption"},j("courseCards.enrollmentStart")+":"," ".concat(I()(parseInt(e.enrollmentStartDate)).locale(localStorage.getItem("i18nextLng")).format("dddd, MMMM DD YYYY, HH:mm")," ")),e.enrollmentEndDate&&n.a.createElement(p.a,{paragraph:!0,variant:"caption"},j("courseCards.enrollmentDeadline")+":"," ".concat(I()(parseInt(e.enrollmentEndDate)).locale(localStorage.getItem("i18nextLng")).format("dddd, MMMM DD YYYY, HH:mm")," "))):t&&n.a.createElement(p.a,{paragraph:!0,color:"error",variant:"caption"},j("courseCards.courseNotActivated")),e.accessDenied&&n.a.createElement(p.a,{paragraph:!0,color:"error",variant:"caption"},j("courseCards.deniedRequest")),a&&n.a.createElement(b.a,null,n.a.createElement(p.a,{paragraph:!0,variant:"caption"},j("courseCards.studentsEnrolled")+":"," ".concat(e.numberOfStudents," ").concat(e.studentCapacity?"/ "+e.studentCapacity:""))),l)))}));return n.a.createElement("div",{className:B.root},n.a.createElement(C.a,{container:!0,justify:"space-around",spacing:3},z))}))}}]);